---
flavours:
  dev:
    description: Contains the entire Locus ROS distribution.
    distributions:
      ros1:
        root_packages: []
      ros2:
        root_packages: []
  # bot:
  #   description: Contains packages for Locus robots.
  #   distributions:
  #     ros1:
  #       root_packages:
  #         - locus_bots
  #     ros2:
  #       root_packages:
  #         - yammer
  # wrangler:
  #   description: Contains packages for the wrangler server.
  #   distributions:
  #     ros1:
  #       root_packages:
  #         - locus_server
  #     ros2:
  #       root_packages:
  #         - yammer
  karto:
    description: Build just slam_karto and dependencies
    distributions:
      ros1:
        root_packages:
          - slam_karto
      ros2:
        root_packages: null

os:
  ubuntu:
    - xenial
    # - bionic  # Disabled until we have a chance to debug more failures

common:
  organization: locusrobotics
  # C++14 is the default, but may be overridden on a package-by-package basis. Notably anything karto-related.
  cxx_standard: 14
  cxx_flags:
    - '-DNDEBUG'
    - '-O3'
    - '-g'
    # Needed for gator and geometric_shapes due to non-standard literal Q used in boost::math
    - '-fext-numeric-literals'
  default_build_depends:
    - build-essential
    - cmake
    - debhelper
    - fakeroot
  distributions:
    ros1:
      upstream:
        name: melodic
        url: https://raw.githubusercontent.com/ros/rosdistro/master/index.yaml
    ros2:
      upstream:
        name: bouncy
        url: https://raw.githubusercontent.com/ros2/rosdistro/master/index.yaml
